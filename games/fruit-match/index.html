<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fruit Match</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fruit-shadow {
            filter: brightness(0) opacity(0.3);
            transform: scale(0.95);
        }

        body {
            touch-action: none;
            /* Prevent browser scrolling */
            background-image: url('data:image/svg+xml,<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="2" r="2" fill="%23444" opacity="0.1"/></svg>');
        }

        .pop-anim {
            animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes pop {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
            }

            100% {
                transform: scale(1);
            }
        }

        .shake-anim {
            animation: shake 0.4s ease-in-out;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20% {
                transform: translateX(-10px);
            }

            40% {
                transform: translateX(10px);
            }

            60% {
                transform: translateX(-5px);
            }

            80% {
                transform: translateX(5px);
            }
        }

        .correct-zone {
            background-color: rgba(134, 239, 172, 0.3);
            /* green-300 */
            box-shadow: inset 0 0 20px rgba(74, 222, 128, 0.5);
        }

        .incorrect-zone {
            background-color: rgba(252, 165, 165, 0.3);
            /* red-300 */
            box-shadow: inset 0 0 20px rgba(248, 113, 113, 0.5);
        }

        /* Tutorial Animations */
        @keyframes swipe-up {
            0% {
                transform: translateY(100px) scale(0.8);
                opacity: 0;
            }

            20% {
                transform: translateY(100px) scale(1);
                opacity: 1;
            }

            80% {
                transform: translateY(-100px) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) scale(0.8);
                opacity: 0;
            }
        }

        @keyframes swipe-down {
            0% {
                transform: translateY(-100px) scale(0.8);
                opacity: 0;
            }

            20% {
                transform: translateY(-100px) scale(1);
                opacity: 1;
            }

            80% {
                transform: translateY(100px) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(100px) scale(0.8);
                opacity: 0;
            }
        }

        @keyframes swipe-left {
            0% {
                opacity: 0;
            }

            20% {
                transform: translateX(50px) scale(1);
                opacity: 1;
            }

            80% {
                transform: translateX(-50px) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateX(-50px) scale(0.8);
                opacity: 0;
            }
        }

        @keyframes swipe-right {
            0% {
                transform: translateX(-50px) scale(0.8);
                opacity: 0;
            }

            20% {
                transform: translateX(-50px) scale(1);
                opacity: 1;
            }

            80% {
                transform: translateX(50px) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateX(50px) scale(0.8);
                opacity: 0;
            }
        }
    </style>
</head>

<body class="h-screen w-screen bg-gray-800 flex justify-center items-center overflow-hidden font-sans select-none">

    <!-- Game Container (Mobile Frame) -->
    <div id="game-container"
        class="relative w-full h-full max-w-[420px] max-h-[900px] landscape:max-w-none landscape:max-h-none landscape:w-screen landscape:h-screen bg-gradient-to-b from-sky-100 to-indigo-100 shadow-2xl flex flex-col landscape:flex-row justify-between overflow-hidden rounded-xl border-4 border-gray-700 transition-all">

        <!-- Header / Score -->
        <div
            class="absolute top-2 left-2 z-20 bg-white/50 backdrop-blur p-4 rounded-full text-sm font-bold text-gray-600 shadow-sm">
            Streak: <span id="streak-counter">0</span>
        </div>

        <!-- Feedback Overlay -->
        <div id="feedback-overlay"
            class="pointer-events-none absolute inset-0 z-50 flex items-center justify-center opacity-0 transition-opacity duration-200">
            <div id="feedback-icon" class="text-9xl drop-shadow-2xl scale-0 transition-transform duration-300"></div>
        </div>

        <!-- Zone 1: Top Slot (Left in Landscape) -->
        <div id="top-zone"
            class="flex-1 w-full landscape:w-auto landscape:h-full flex flex-row landscape:flex-col items-end justify-center space-x-3 landscape:space-x-0 landscape:space-y-3 bg-white/30 backdrop-blur-sm border-b-2 landscape:border-b-0 landscape:border-r-2 border-white/40 transition-all duration-200 p-2 pb-6 landscape:pb-0 landscape:pr-6">
            <!-- Programmatically filled -->
        </div>

        <!-- Zone 2: Center Interaction Zone -->
        <div id="play-zone" class="flex-[0.7] w-full flex flex-col items-center justify-center relative">

            <!-- The Draggable Fruit -->
            <div id="draggable-wrapper" class="relative z-10 p-4 touch-none cursor-grab active:cursor-grabbing">
                <div id="draggable-fruit" class="text-8xl drop-shadow-2xl transition-transform will-change-transform">
                    ‚ùì
                </div>
            </div>

            <!-- Tutorial Hand (Arrow now) -->
            <div id="tutorial-hand" class="pointer-events-none absolute z-20 text-9xl opacity-0 hidden"></div>
        </div>

        <!-- Zone 3: Bottom Slot (Right in Landscape) -->
        <div id="bottom-zone"
            class="flex-1 w-full landscape:w-auto landscape:h-full flex flex-row landscape:flex-col items-start justify-center space-x-3 landscape:space-x-0 landscape:space-y-3 bg-white/30 backdrop-blur-sm border-t-2 landscape:border-t-0 landscape:border-l-2 border-white/40 transition-all duration-200 p-2 pt-6 landscape:pt-0 landscape:pl-6">
            <!-- Programmatically filled -->
        </div>

        <!-- Voice Command Button (Accessibility) -->
        <button id="voice-btn"
            class="absolute bottom-2 right-2 z-20 bg-white/80 p-2 rounded-full shadow-md text-gray-500 hover:text-indigo-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
            </svg>
        </button>

    </div>

    <!-- Instructions / Desktop hint -->
    <div class="hidden md:block absolute left-4 bottom-4 text-white/50 text-sm max-w-xs">
        <p>Shortcuts: Arrow Up/Down</p>
        <p>Drag with mouse or use touch</p>
    </div>

    <script src="game.js"></script>
</body>

</html>
